{% set active_page = "rv_monit" %}
{% extends "layout.html" %}

{% block head %}
  <meta name="robots" content="noindex" />
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
  <title>RV Monitoring</title>
{% endblock head %}

{% block body %}

<div class="row">
  <div class="col-md-6">
    <div class="card">
      <div id="monit"></div>
  </div>
</div>

<script type="text/javascript">

    Highcharts.chart("monit", {
    chart: { zoomType: 'x' },
    title: {text: "RV Field Progress"},
    xAxis: { title: { text: 'Epoch' } },
    yAxis: [{ title: { text: 'Days Since First Obs' },
                    plotLines: [{ value: 0, width: 1, color: '#bf371f' }]}],
    tooltip: { crosshairs: true, shared: false, 
                formatter:function(){
                  return this.y.toFixed(1);}
             },
    series: [
      {% for field in fields %}
        {
        name: '{{field}}',
        data: {{fields[field] | tojson}},
        showInLegend: false, 
        },
      {% endfor %}
      {
        name: 'Goal',
        data: {{goal | tojson}},
        showInLegend: true, 
        lineWidth: 5
      }
    ]
    });
  
</script>

{% endblock body %}
